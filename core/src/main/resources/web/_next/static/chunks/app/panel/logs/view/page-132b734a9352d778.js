(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4285],{6937:(e,t,r)=>{"use strict";r.d(t,{E:()=>l});var n=r(95155),a=r(12115),s=r(80154);let l=(0,a.memo)(function(e){let{id:t,rich:r=!0,args:a=[],className:l}=e,o=r?(0,s.I)(t,...a):(0,s.k)(t);return r?(0,n.jsx)("span",{className:l,dangerouslySetInnerHTML:{__html:o},suppressHydrationWarning:!0}):(0,n.jsx)("span",{className:l,children:o})},(e,t)=>e.id===t.id&&e.rich===t.rich&&e.className===t.className)},10255:(e,t,r)=>{"use strict";function n(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return n}}),r(95155),r(47650),r(85744),r(20589)},13052:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(19946).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},17828:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return n}});let n=(0,r(64054).createAsyncLocalStorage)()},24232:(e,t,r)=>{"use strict";r.d(t,{C:()=>f});var n=r(95155),a=r(12115),s=r(13052),l=r(53999);function o(e){let{...t}=e;return(0,n.jsx)("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...t})}function i(e){let{className:t,...r}=e;return(0,n.jsx)("ol",{"data-slot":"breadcrumb-list",className:(0,l.cn)("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",t),...r})}function c(e){let{className:t,...r}=e;return(0,n.jsx)("li",{"data-slot":"breadcrumb-item",className:(0,l.cn)("inline-flex items-center gap-1.5",t),...r})}function u(e){let{className:t,...r}=e;return(0,n.jsx)("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:(0,l.cn)("text-foreground font-normal",t),...r})}function d(e){let{children:t,className:r,...a}=e;return(0,n.jsx)("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:(0,l.cn)("[&>svg]:size-3.5",r),...a,children:null!=t?t:(0,n.jsx)(s.A,{})})}var m=r(76037),h=r(20193);function f(e){let{children:t,title:r,subTitle:s,icon:f,outerClassName:g,className:p,...y}=e;return(0,a.useEffect)(()=>{document.title="OPanel - ".concat(null!=s?s:r)},[r,s]),(0,n.jsxs)("div",{className:(0,l.cn)("group px-16 max-md:px-12 max-sm:px-8 flex-1 flex flex-col gap-6 max-md:gap-2",g),children:[(0,n.jsxs)("div",{className:"pt-10 pb-5 flex flex-col gap-8",children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)(h.x2,{className:"cursor-pointer"}),(0,n.jsx)(m.w,{orientation:"vertical"}),(0,n.jsx)(o,{children:(0,n.jsxs)(i,{children:[(0,n.jsx)(c,{children:"OPanel"}),(0,n.jsx)(d,{}),s&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c,{children:r}),(0,n.jsx)(d,{})]}),(0,n.jsx)(c,{children:(0,n.jsx)(u,{children:null!=s?s:r})})]})})]}),(0,n.jsxs)("div",{className:"flex items-center gap-5",children:[f,(0,n.jsx)("h1",{className:"text-3xl font-bold",children:null!=s?s:r})]})]}),(0,n.jsx)("div",{className:(0,l.cn)(p,"pb-14"),...y,children:t})]})}},31886:(e,t,r)=>{"use strict";r.d(t,{Kf:()=>i,QM:()=>m,nl:()=>d,ow:()=>u,qV:()=>c,y0:()=>l,yq:()=>o});var n=r(23464),a=r(16453),s=r(56671);let l="",o=globalThis.window?"".concat("http:"===window.location.protocol?"ws":"wss","://").concat(window.location.host):"ws://localhost:3000";function i(e,t,r){if(401===e.status&&"/login"!==window.location.pathname){(0,a.deleteCookie)("token"),window.location.href="/login";return}for(let[n,a]of r)if(e.status===n)return void s.oR.error(t,{description:a});s.oR.error(t,{description:e.message})}async function c(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return(await n.A.request({method:"get",url:l+e,withCredentials:t})).data}async function u(e,t){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],a=t?JSON.stringify(t):"";return(await n.A.request({method:"post",maxBodyLength:1/0,url:l+e,withCredentials:r,headers:{"Content-Type":"text/plain"},data:a})).data}async function d(e,t){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],a=t?JSON.stringify(t):"";return(await n.A.request({method:"delete",maxBodyLength:1/0,url:l+e,withCredentials:r,headers:{"Content-Type":"text/plain"},data:a})).data}async function m(e,t,r){let a=!(arguments.length>3)||void 0===arguments[3]||arguments[3],s=new FormData;return s.append("file",t),(await n.A.request({method:"post",url:l+e,withCredentials:a,headers:{"Content-Type":"multipart/form-data"},data:s,onUploadProgress:e=>{var t;return r&&r(null!=(t=e.progress)?t:0)}})).data}},32007:(e,t,r)=>{"use strict";r.d(t,{S:()=>o,f:()=>l});var n=r(56671),a=r(31886),s=r(80154);async function l(e){window.open("".concat(a.y0,"/api/logs/").concat(e,"/download"),"_blank")}async function o(e){try{await (0,a.nl)("/api/logs/".concat(e)),n.oR.success((0,s.$)("logs.action.delete.success"))}catch(e){(0,a.Kf)(e,(0,s.$)("logs.action.delete.error"),[[400,(0,s.$)("common.error.400")],[401,(0,s.$)("common.error.401")],[403,(0,s.$)("logs.action.delete.error.403")],[404,(0,s.$)("logs.action.delete.error.404")]])}}},35695:(e,t,r)=>{"use strict";var n=r(18999);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},36645:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let n=r(88229)._(r(67357));function a(e,t){var r;let a={};"function"==typeof e&&(a.loader=e);let s={...a,...t};return(0,n.default)({...s,modules:null==(r=s.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},51362:(e,t,r)=>{"use strict";r.d(t,{D:()=>c,N:()=>u});var n=r(12115),a=(e,t,r,n,a,s,l,o)=>{let i=document.documentElement,c=["light","dark"];function u(t){var r;(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,n=r&&s?a.map(e=>s[e]||e):a;r?(i.classList.remove(...n),i.classList.add(s&&s[t]?s[t]:t)):i.setAttribute(e,t)}),r=t,o&&c.includes(r)&&(i.style.colorScheme=r)}if(n)u(n);else try{let e=localStorage.getItem(t)||r,n=l&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;u(n)}catch(e){}},s=["light","dark"],l="(prefers-color-scheme: dark)",o=n.createContext(void 0),i={setTheme:e=>{},themes:[]},c=()=>{var e;return null!=(e=n.useContext(o))?e:i},u=e=>n.useContext(o)?n.createElement(n.Fragment,null,e.children):n.createElement(m,{...e}),d=["light","dark"],m=e=>{let{forcedTheme:t,disableTransitionOnChange:r=!1,enableSystem:a=!0,enableColorScheme:i=!0,storageKey:c="theme",themes:u=d,defaultTheme:m=a?"system":"light",attribute:y="data-theme",value:b,children:x,nonce:v,scriptProps:w}=e,[j,k]=n.useState(()=>f(c,m)),[S,P]=n.useState(()=>"system"===j?p():j),_=b?Object.values(b):u,C=n.useCallback(e=>{let t=e;if(!t)return;"system"===e&&a&&(t=p());let n=b?b[t]:t,l=r?g(v):null,o=document.documentElement,c=e=>{"class"===e?(o.classList.remove(..._),n&&o.classList.add(n)):e.startsWith("data-")&&(n?o.setAttribute(e,n):o.removeAttribute(e))};if(Array.isArray(y)?y.forEach(c):c(y),i){let e=s.includes(m)?m:null,r=s.includes(t)?t:e;o.style.colorScheme=r}null==l||l()},[v]),O=n.useCallback(e=>{let t="function"==typeof e?e(j):e;k(t);try{localStorage.setItem(c,t)}catch(e){}},[j]),N=n.useCallback(e=>{P(p(e)),"system"===j&&a&&!t&&C("system")},[j,t]);n.useEffect(()=>{let e=window.matchMedia(l);return e.addListener(N),N(e),()=>e.removeListener(N)},[N]),n.useEffect(()=>{let e=e=>{e.key===c&&(e.newValue?k(e.newValue):O(m))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[O]),n.useEffect(()=>{C(null!=t?t:j)},[t,j]);let A=n.useMemo(()=>({theme:j,setTheme:O,forcedTheme:t,resolvedTheme:"system"===j?S:j,themes:a?[...u,"system"]:u,systemTheme:a?S:void 0}),[j,O,t,S,a,u]);return n.createElement(o.Provider,{value:A},n.createElement(h,{forcedTheme:t,storageKey:c,attribute:y,enableSystem:a,enableColorScheme:i,defaultTheme:m,value:b,themes:u,nonce:v,scriptProps:w}),x)},h=n.memo(e=>{let{forcedTheme:t,storageKey:r,attribute:s,enableSystem:l,enableColorScheme:o,defaultTheme:i,value:c,themes:u,nonce:d,scriptProps:m}=e,h=JSON.stringify([s,r,i,t,u,c,l,o]).slice(1,-1);return n.createElement("script",{...m,suppressHydrationWarning:!0,nonce:"",dangerouslySetInnerHTML:{__html:"(".concat(a.toString(),")(").concat(h,")")}})}),f=(e,t)=>{let r;try{r=localStorage.getItem(e)||void 0}catch(e){}return r||t},g=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},p=e=>(e||(e=window.matchMedia(l)),e.matches?"dark":"light")},55028:(e,t,r)=>{"use strict";r.d(t,{default:()=>a.a});var n=r(36645),a=r.n(n)},62146:(e,t,r)=>{"use strict";function n(e){let{reason:t,children:r}=e;return r}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}}),r(45262)},62525:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(19946).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},64054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{bindSnapshot:function(){return l},createAsyncLocalStorage:function(){return s},createSnapshot:function(){return o}});let r=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class n{disable(){throw r}getStore(){}run(){throw r}exit(){throw r}enterWith(){throw r}static bind(e){return e}}let a="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function s(){return a?new a:new n}function l(e){return a?a.bind(e):n.bind(e)}function o(){return a?a.snapshot():function(e,...t){return e(...t)}}},67357:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let n=r(95155),a=r(12115),s=r(62146);function l(e){return{default:e&&"default"in e?e.default:e}}r(10255);let o={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},i=function(e){let t={...o,...e},r=(0,a.lazy)(()=>t.loader().then(l)),i=t.loading;function c(e){let l=i?(0,n.jsx)(i,{isLoading:!0,pastDelay:!0,error:null}):null,o=!t.ssr||!!t.loading,c=o?a.Suspense:a.Fragment,u=t.ssr?(0,n.jsxs)(n.Fragment,{children:[null,(0,n.jsx)(r,{...e})]}):(0,n.jsx)(s.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(r,{...e})});return(0,n.jsx)(c,{...o?{fallback:l}:{},children:u})}return c.displayName="LoadableComponent",c}},69506:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var n=r(95155),a=r(55028),s=r(12115),l=r(91788),o=r(62525),i=r(35695),c=r(51362),u=r(24232),d=r(31886),m=r(97168),h=r(32007),f=r(52815),g=r(80154),p=r(6937);let y=(0,a.default)(()=>Promise.all([r.e(4654),r.e(1376),r.e(6859),r.e(8638),r.e(4695),r.e(2674),r.e(1752)]).then(r.bind(r,11752)),{loadableGenerated:{webpack:()=>[11752]},ssr:!1});function b(){let e=(0,i.useSearchParams)(),{push:t}=(0,i.useRouter)(),[r,a]=(0,s.useState)(""),{theme:b}=(0,c.D)(),x=(0,s.useRef)(null),v=e.get("log"),w=(0,s.useCallback)(async()=>{if(!v)return void t("/panel/logs");try{let e=await (0,d.qV)("/api/logs/".concat(v));a(e)}catch(e){(0,d.Kf)(e,(0,g.$)("logs.view.fetch.error"),[[400,(0,g.$)("common.error.400")],[401,(0,g.$)("common.error.401")],[404,(0,g.$)("logs.view.fetch.error.404")],[500,(0,g.$)("common.error.500")]])}},[v,t]);return(0,s.useEffect)(()=>{x.current&&x.current.setValue(r)},[r]),(0,s.useEffect)(()=>{w()},[w]),(0,n.jsxs)(u.C,{title:(0,g.$)("logs.title"),subTitle:null!=v?v:"",children:[(0,n.jsxs)("div",{className:"mb-3 flex justify-between items-center",children:[(0,n.jsx)(p.E,{id:"logs.view.hint",args:[(null==v?void 0:v.endsWith(".log.gz"))?"gzip (".concat((0,g.$)("logs.view.decompressed"),")"):"log"],className:"text-sm text-muted-foreground"}),(0,n.jsxs)("div",{className:"[&>*]:cursor-pointer",children:[(0,n.jsx)(m.$,{variant:"ghost",size:"icon",title:(0,g.$)("logs.action.download"),onClick:()=>(0,h.f)(null!=v?v:""),children:(0,n.jsx)(l.A,{})}),(0,n.jsx)(m.$,{variant:"ghost",size:"icon",title:(0,g.$)("logs.action.delete"),disabled:null==v?void 0:v.endsWith(".log"),onClick:async()=>{await (0,h.S)(null!=v?v:""),t("/panel/logs")},children:(0,n.jsx)(o.A,{})})]})]}),(0,n.jsx)(y,{height:"550px",defaultLanguage:"server-log",defaultValue:r,theme:"dark"===b?"server-log-theme-dark":"server-log-theme",options:{readOnly:!0,readOnlyMessage:{value:(0,g.$)("logs.view.monaco.readonly")},...f.FN},onMount:e=>x.current=e})]})}},79701:(e,t,r)=>{Promise.resolve().then(r.bind(r,69506))},85744:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return n.workAsyncStorageInstance}});let n=r(17828)},91788:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(19946).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])}},e=>{e.O(0,[9690,4390,3498,9641,5702,5100,5452,6671,3207,3464,154,193,8441,5964,7358],()=>e(e.s=79701)),_N_E=e.O()}]);