(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8130],{22726:(e,t,s)=>{"use strict";s.d(t,{b:()=>j});var a=s(95155),i=s(12115),r=s(52278),n=s(42355),l=s(13052),o=s(12767),d=s(36268),c=s(11032),u=s(88524),x=s(53999),h=s(97168),g=s(74466);s(76037);let p=(0,g.F)("flex w-fit items-stretch [&>*]:focus-visible:z-10 [&>*]:focus-visible:relative [&>[data-slot=select-trigger]:not([class*='w-'])]:w-fit [&>input]:flex-1 has-[select[aria-hidden=true]:last-child]:[&>[data-slot=select-trigger]:last-of-type]:rounded-r-md has-[>[data-slot=button-group]]:gap-2",{variants:{orientation:{horizontal:"[&>*:not(:first-child)]:rounded-l-none [&>*:not(:first-child)]:border-l-0 [&>*:not(:last-child)]:rounded-r-none",vertical:"flex-col [&>*:not(:first-child)]:rounded-t-none [&>*:not(:first-child)]:border-t-0 [&>*:not(:last-child)]:rounded-b-none"}},defaultVariants:{orientation:"horizontal"}});function m(e){let{className:t,orientation:s,...i}=e;return(0,a.jsx)("div",{role:"group","data-slot":"button-group","data-orientation":s,className:(0,x.cn)(p({orientation:s}),t),...i})}function j(e){var t;let{columns:s,data:g,pagination:p=!1,fallbackMessage:j="暂无数据",className:f}=e,[v,b]=(0,i.useState)({pageIndex:0,pageSize:10}),w=(0,d.N4)({columns:s,data:g,getCoreRowModel:(0,c.HT)(),getPaginationRowModel:p?(0,c.kW)():void 0,onPaginationChange:b,state:{pagination:v}});return(0,a.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,a.jsx)("div",{className:(0,x.cn)(f,"border rounded-md"),children:(0,a.jsxs)(u.XI,{children:[(0,a.jsx)(u.A0,{children:w.getHeaderGroups().map(e=>(0,a.jsx)(u.Hj,{children:e.headers.map(e=>(0,a.jsx)(u.nd,{children:e.isPlaceholder?null:(0,d.Kv)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,a.jsx)(u.BF,{children:(null==(t=w.getRowModel().rows)?void 0:t.length)?w.getRowModel().rows.map(e=>(0,a.jsx)(u.Hj,{children:e.getVisibleCells().map(e=>(0,a.jsx)(u.nA,{children:(0,d.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,a.jsx)(u.Hj,{className:"hover:bg-transparent",children:(0,a.jsx)(u.nA,{colSpan:s.length,className:"h-24 text-center",children:j})})})]})}),p&&(0,a.jsxs)("div",{className:"flex gap-3 items-center max-md:flex-col",children:[(0,a.jsxs)("div",{className:"flex gap-3 items-center [&_button]:cursor-pointer",children:[(0,a.jsx)(h.$,{variant:"outline",size:"icon",title:"跳转至第一页",onClick:()=>w.firstPage(),disabled:!w.getCanPreviousPage(),children:(0,a.jsx)(r.A,{})}),(0,a.jsxs)(m,{children:[(0,a.jsxs)(h.$,{variant:"outline",onClick:()=>w.previousPage(),disabled:!w.getCanPreviousPage(),children:[(0,a.jsx)(n.A,{}),"上一页"]}),(0,a.jsxs)(h.$,{variant:"outline",onClick:()=>w.nextPage(),disabled:!w.getCanNextPage(),children:["下一页",(0,a.jsx)(l.A,{})]})]}),(0,a.jsx)(h.$,{variant:"outline",size:"icon",title:"跳转至最后一页",onClick:()=>w.lastPage(),disabled:!w.getCanNextPage(),children:(0,a.jsx)(o.A,{})})]}),(0,a.jsxs)("span",{className:"text-muted-foreground text-sm",children:["第 ",v.pageIndex+1," 页 / 共 ",w.getPageCount()," 页"]})]})]})}},28042:(e,t,s)=>{"use strict";s.d(t,{Ik:()=>x,MG:()=>o,Sq:()=>c,iV:()=>h});var a=s(95155);s(12115);var i=s(74466),r=s(53999),n=s(97168),l=s(89852);function o(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"input-group",role:"group",className:(0,r.cn)("group/input-group border-input dark:bg-input/30 relative flex w-full items-center rounded-md border shadow-xs transition-[color,box-shadow] outline-none","h-9 min-w-0 has-[>textarea]:h-auto","has-[>[data-align=inline-start]]:[&>input]:pl-2","has-[>[data-align=inline-end]]:[&>input]:pr-2","has-[>[data-align=block-start]]:h-auto has-[>[data-align=block-start]]:flex-col has-[>[data-align=block-start]]:[&>input]:pb-3","has-[>[data-align=block-end]]:h-auto has-[>[data-align=block-end]]:flex-col has-[>[data-align=block-end]]:[&>input]:pt-3","has-[[data-slot=input-group-control]:focus-visible]:border-ring has-[[data-slot=input-group-control]:focus-visible]:ring-ring/50 has-[[data-slot=input-group-control]:focus-visible]:ring-[3px]","has-[[data-slot][aria-invalid=true]]:ring-destructive/20 has-[[data-slot][aria-invalid=true]]:border-destructive dark:has-[[data-slot][aria-invalid=true]]:ring-destructive/40",t),...s})}s(99474);let d=(0,i.F)("text-muted-foreground flex h-auto cursor-text items-center justify-center gap-2 py-1.5 text-sm font-medium select-none [&>svg:not([class*='size-'])]:size-4 [&>kbd]:rounded-[calc(var(--radius)-5px)] group-data-[disabled=true]/input-group:opacity-50",{variants:{align:{"inline-start":"order-first pl-3 has-[>button]:ml-[-0.45rem] has-[>kbd]:ml-[-0.35rem]","inline-end":"order-last pr-3 has-[>button]:mr-[-0.45rem] has-[>kbd]:mr-[-0.35rem]","block-start":"order-first w-full justify-start px-3 pt-3 [.border-b]:pb-3 group-has-[>input]/input-group:pt-2.5","block-end":"order-last w-full justify-start px-3 pb-3 [.border-t]:pt-3 group-has-[>input]/input-group:pb-2.5"}},defaultVariants:{align:"inline-start"}});function c(e){let{className:t,align:s="inline-start",...i}=e;return(0,a.jsx)("div",{role:"group","data-slot":"input-group-addon","data-align":s,className:(0,r.cn)(d({align:s}),t),onClick:e=>{var t,s;e.target.closest("button")||null==(s=e.currentTarget.parentElement)||null==(t=s.querySelector("input"))||t.focus()},...i})}let u=(0,i.F)("text-sm shadow-none flex gap-2 items-center",{variants:{size:{xs:"h-6 gap-1 px-2 rounded-[calc(var(--radius)-5px)] [&>svg:not([class*='size-'])]:size-3.5 has-[>svg]:px-2",sm:"h-8 px-2.5 gap-1.5 rounded-md has-[>svg]:px-2.5","icon-xs":"size-6 rounded-[calc(var(--radius)-5px)] p-0 has-[>svg]:p-0","icon-sm":"size-8 p-0 has-[>svg]:p-0"}},defaultVariants:{size:"xs"}});function x(e){let{className:t,type:s="button",variant:i="ghost",size:l="xs",...o}=e;return(0,a.jsx)(n.$,{type:s,"data-size":l,variant:i,className:(0,r.cn)(u({size:l}),t),...o})}function h(e){let{className:t,...s}=e;return(0,a.jsx)(l.p,{"data-slot":"input-group-control",className:(0,r.cn)("flex-1 rounded-none border-0 bg-transparent shadow-none focus-visible:ring-0 dark:bg-transparent",t),...s})}},30347:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Y});var a=s(95155),i=s(12115),r=s(17580),n=s(47924),l=s(17881),o=s(42996),d=s(30064),c=s(53999);function u(e){let{className:t,...s}=e;return(0,a.jsx)(d.bL,{"data-slot":"tabs",className:(0,c.cn)("flex flex-col gap-2",t),...s})}function x(e){let{className:t,...s}=e;return(0,a.jsx)(d.B8,{"data-slot":"tabs-list",className:(0,c.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...s})}function h(e){let{className:t,...s}=e;return(0,a.jsx)(d.l9,{"data-slot":"tabs-trigger",className:(0,c.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s})}function g(e){let{className:t,...s}=e;return(0,a.jsx)(d.UC,{"data-slot":"tabs-content",className:(0,c.cn)("flex-1 outline-none",t),...s})}var p=s(22726),m=s(31886),j=s(5196),f=s(75494),v=s(12318),b=s(97092),w=s(6877),y=s(74126),N=s(28113),C=s(37777),k=s(97168),z=s(99840),A=s(82714),P=s(89852);function $(e){let{title:t,description:s,label:r,placeholder:n,onAction:l,asChild:o,children:d}=e,c=(0,i.useRef)(null);return(0,a.jsxs)(z.lG,{children:[(0,a.jsx)(z.zM,{asChild:o,children:d}),(0,a.jsxs)(z.Cf,{children:[(0,a.jsxs)(z.c7,{children:[(0,a.jsx)(z.L3,{children:t}),s&&(0,a.jsx)(z.rr,{children:s})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)(A.J,{children:r}),(0,a.jsx)(P.p,{placeholder:n,ref:c})]}),(0,a.jsxs)(z.Es,{children:[(0,a.jsx)(z.HM,{asChild:!0,children:(0,a.jsx)(k.$,{variant:"outline",children:"取消"})}),(0,a.jsx)(z.HM,{asChild:!0,children:(0,a.jsx)(k.$,{onClick:()=>{c.current&&l&&l(c.current.value)},children:"确定"})})]})]})]})}var O=s(88145);function _(e){let{isOnline:t,className:s}=e;return(0,a.jsxs)(O.E,{variant:"outline",children:[(0,a.jsx)("div",{className:(0,c.cn)("w-2 h-2 rounded-full",t?"bg-green-600":"bg-muted-foreground",s)}),t?"在线":"离线"]})}var M=s(16103),L=s(62177),S=s(48778),W=s(71153),F=s(41085),K=s(30070),V=s(23291),E=s(91503);function H(e){let{uuid:t}=e,s=(0,i.useRef)(null);return(0,i.useEffect)(()=>{s.current&&new E.A({canvas:s.current,skin:m.Hh+t,cape:m.v_+t})},[t]),(0,a.jsx)("canvas",{ref:s})}var q=s(95784),I=s(90088),R=s(19832);let B=W.z.object({gamemode:W.z.enum(Object.values(V.U)),isOp:W.z.boolean()});function G(e){var t;let{player:s,children:i,asChild:r}=e,n=(0,L.mN)({resolver:(0,S.u)(B),values:{gamemode:null!=(t=s.gamemode)?t:"adventure",isOp:s.isOp}}),l=async e=>{e.gamemode!==s.gamemode&&await (0,M.Q4)(s.uuid,e.gamemode,!1),e.isOp!==s.isOp&&(s.isOp?await (0,M.B6)(s.uuid,!1):await (0,M.Hy)(s.uuid,!1)),R.P.emit("refresh-data")};return(0,a.jsxs)(F.cj,{children:[(0,a.jsx)(F.CG,{asChild:r,children:i}),(0,a.jsx)(F.h,{children:(0,a.jsx)(K.lV,{...n,children:(0,a.jsxs)("form",{className:"flex-1 flex flex-col",onSubmit:n.handleSubmit(l),children:[(0,a.jsxs)(F.Fm,{children:[(0,a.jsx)(F.qp,{children:"编辑玩家"}),(0,a.jsx)(F.Qs,{children:"在此设置和管理该玩家的状态和角色。"})]}),(0,a.jsxs)("div",{className:"flex-1 px-4 flex flex-col gap-5",children:[(0,a.jsx)(H,{uuid:s.uuid}),(0,a.jsxs)("div",{className:"flex justify-center items-center gap-2",children:[(0,a.jsx)(_,{isOnline:s.isOnline}),(0,a.jsx)("h2",{className:"inline-block text-lg font-semibold",children:s.name})]}),(0,a.jsx)(K.zB,{control:n.control,name:"gamemode",render:e=>{let{field:t}=e;return(0,a.jsxs)(K.eI,{children:[(0,a.jsx)(K.lR,{children:"游戏模式"}),(0,a.jsx)(K.MJ,{children:(0,a.jsxs)(q.l6,{...t,onValueChange:t.onChange,children:[(0,a.jsx)(q.bq,{className:"w-full",children:(0,a.jsx)(q.yv,{})}),(0,a.jsxs)(q.gC,{children:[(0,a.jsx)(q.eb,{value:"adventure",children:"冒险"}),(0,a.jsx)(q.eb,{value:"survival",children:"生存"}),(0,a.jsx)(q.eb,{value:"creative",children:"创造"}),(0,a.jsx)(q.eb,{value:"spectator",children:"旁观"})]})]})}),(0,a.jsx)(K.C5,{})]})}}),(0,a.jsx)(K.zB,{control:n.control,name:"isOp",render:e=>{let{field:t}=e;return(0,a.jsxs)(K.eI,{className:"flex justify-between",children:[(0,a.jsx)(K.lR,{children:"OP权限"}),(0,a.jsx)(K.MJ,{children:(0,a.jsx)(I.d,{...t,value:"",defaultChecked:s.isOp,onCheckedChange:t.onChange})}),(0,a.jsx)(K.C5,{})]})}}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(A.J,{children:"管理"}),(0,a.jsxs)("div",{className:"grid grid-rows-2 grid-cols-2 gap-2 [&>*]:cursor-pointer",children:[void 0!==s.isWhitelisted&&(s.isWhitelisted?(0,a.jsxs)(k.$,{variant:"outline",onClick:async()=>{await (0,M.CB)(s.name,s.uuid),R.P.emit("refresh-data")},children:[(0,a.jsx)(f.A,{}),"移出白名单"]}):(0,a.jsxs)(k.$,{variant:"outline",onClick:async()=>{await (0,M.EW)(s.name,s.uuid),R.P.emit("refresh-data")},children:[(0,a.jsx)(v.A,{}),"加入白名单"]})),(0,a.jsx)($,{title:"踢出玩家",description:"将玩家踢出服务器，之后玩家可重新加入服务器",label:"原因",placeholder:"请输入踢出原因...",onAction:async e=>{await (0,M.HQ)(s.uuid,e),R.P.emit("refresh-data")},asChild:!0,children:(0,a.jsxs)(k.$,{variant:"outline",className:void 0===s.isWhitelisted?"col-start-1":"col-start-2",disabled:!s.isOnline,children:[(0,a.jsx)(b.A,{}),"踢出服务器"]})}),s.isBanned?(0,a.jsxs)(k.$,{variant:"outline",className:void 0===s.isWhitelisted?"col-start-2":"col-span-2",onClick:async()=>{await (0,M.zf)(s.uuid),R.P.emit("refresh-data")},children:[(0,a.jsx)(N.A,{}),"解除封禁"]}):(0,a.jsx)($,{title:"封禁玩家",description:"将玩家踢出服务器并加入封禁列表，之后玩家将不可重新加入服务器",label:"原因",placeholder:"请输入封禁原因...",onAction:async e=>{await (0,M._L)(s.uuid,e),R.P.emit("refresh-data")},asChild:!0,children:(0,a.jsxs)(k.$,{variant:"destructive",className:void 0===s.isWhitelisted?"col-start-2":"col-span-2",children:[(0,a.jsx)(w.A,{}),"封禁玩家"]})})]})]})]}),(0,a.jsxs)(F.XW,{children:[(0,a.jsx)(F.kN,{asChild:!0,children:(0,a.jsx)(k.$,{type:"submit",className:"cursor-pointer",children:"确定"})}),(0,a.jsx)(F.kN,{asChild:!0,children:(0,a.jsx)(k.$,{variant:"outline",className:"cursor-pointer",children:"取消"})})]})]})})})]})}var Q=s(99211);let T=[{accessorKey:"name",header:"玩家名",cell:e=>{let{row:t}=e,{name:s,uuid:i}=t.original;return(0,a.jsxs)(C.m_,{children:[(0,a.jsx)(C.k$,{children:(0,a.jsx)(G,{player:t.original,asChild:!0,children:(0,a.jsxs)("div",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("img",{src:m.nF+i,alt:s,width:17,height:17}),(0,a.jsx)("span",{className:"font-semibold",children:s})]})})}),(0,a.jsx)(C.ZI,{children:i})]})}},{accessorKey:"isOnline",header:()=>(0,a.jsx)("div",{className:"text-center",children:"状态"}),cell:e=>{let{row:t}=e,{isOnline:s}=t.original;return(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)(_,{isOnline:s})})}},{accessorKey:"uuid",header:"",cell:""},{accessorKey:"gamemode",header:()=>(0,a.jsx)("div",{className:"text-center",children:"游戏模式"}),cell:e=>{let{row:t}=e,{gamemode:s}=t.original;return s?(0,a.jsx)("div",{className:"text-center",children:(0,c.Cq)(s)}):(0,a.jsx)(a.Fragment,{})}},{accessorKey:"isWhitelisted",header:()=>(0,a.jsx)("div",{className:"text-center",children:"白名单"}),cell:e=>{let{row:t,column:s}=e;return(0,i.useEffect)(()=>{s.toggleVisibility(void 0!==t.original.isWhitelisted)},[t,s]),(0,a.jsx)("div",{className:"flex justify-center",children:t.original.isWhitelisted?(0,a.jsx)(j.A,{size:18,color:"var(--color-muted-foreground)"}):(0,a.jsx)(a.Fragment,{})})}},{accessorKey:"isOp",header:()=>(0,a.jsx)("div",{className:"text-center",children:"OP"}),cell:e=>{let{row:t}=e;return(0,a.jsx)("div",{className:"flex justify-center",children:t.original.isOp?(0,a.jsx)(j.A,{size:18,color:"var(--color-muted-foreground)"}):(0,a.jsx)(a.Fragment,{})})}},{header:" ",cell:e=>{let{row:t}=e,{name:s,uuid:i,isOnline:r,isWhitelisted:n}=t.original;return(0,a.jsxs)("div",{className:"flex justify-end [&>*]:h-4 [&>*]:cursor-pointer [&>*]:hover:!bg-transparent",children:[void 0!==n&&(n?(0,a.jsx)(k.$,{variant:"ghost",size:"icon",title:"移出白名单",onClick:async()=>{await (0,M.CB)(s,i),R.P.emit("refresh-data")},children:(0,a.jsx)(f.A,{})}):(0,a.jsx)(k.$,{variant:"ghost",size:"icon",title:"加入白名单",onClick:async()=>{await (0,M.EW)(s,i),R.P.emit("refresh-data")},children:(0,a.jsx)(v.A,{})})),r&&(0,a.jsx)($,{title:"踢出玩家",description:"将玩家踢出服务器，之后玩家可重新加入服务器",label:"原因",placeholder:"请输入踢出原因...",onAction:async e=>{await (0,M.HQ)(i,e),R.P.emit("refresh-data")},asChild:!0,children:(0,a.jsx)(k.$,{variant:"ghost",size:"icon",title:"踢出服务器",children:(0,a.jsx)(b.A,{})})}),(0,a.jsx)($,{title:"封禁玩家",description:"将玩家踢出服务器并加入封禁列表，之后玩家将不可重新加入服务器",label:"原因",placeholder:"请输入封禁原因...",onAction:async e=>{await (0,M._L)(i,e),R.P.emit("refresh-data")},asChild:!0,children:(0,a.jsx)(k.$,{variant:"ghost",size:"icon",title:"封禁玩家",children:(0,a.jsx)(w.A,{className:"stroke-red-400"})})}),(0,a.jsx)(Q.F,{title:"确定要删除 ".concat(s," 的游戏数据吗？"),description:"此操作将".concat(r?"把玩家踢出服务器并":"","清空该玩家的所有游戏数据，且被删除的数据将不可恢复。"),onAction:async()=>{r&&(await (0,M.HQ)(i,"管理员已清空你的玩家数据",!1),await (0,c.yy)(100)),await (0,M.wx)(i),R.P.emit("refresh-data")},asChild:!0,children:(0,a.jsx)(k.$,{variant:"ghost",size:"icon",title:"删除玩家数据",children:(0,a.jsx)(y.A,{className:"stroke-red-400"})})})]})}}],J=[{accessorKey:"name",header:"玩家名",cell:e=>{let{row:t}=e,{name:s,uuid:i}=t.original;return(0,a.jsxs)(C.m_,{children:[(0,a.jsx)(C.k$,{children:(0,a.jsx)(G,{player:t.original,asChild:!0,children:(0,a.jsxs)("div",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("img",{src:m.nF+i,alt:s,width:17,height:17}),(0,a.jsx)("span",{className:"font-semibold",children:s})]})})}),(0,a.jsx)(C.ZI,{children:i})]})}},{accessorKey:"banReason",header:"封禁原因"},{accessorKey:"uuid",header:"",cell:""},{accessorKey:"isOp",header:()=>(0,a.jsx)("div",{className:"text-center",children:"OP"}),cell:e=>{let{row:t}=e;return(0,a.jsx)("div",{className:"flex justify-center",children:t.original.isOp?(0,a.jsx)(j.A,{size:18,color:"var(--color-muted-foreground)"}):(0,a.jsx)(a.Fragment,{})})}},{header:" ",cell:e=>{let{row:t}=e;return(0,a.jsx)(k.$,{variant:"ghost",size:"icon",className:"float-right h-4 cursor-pointer hover:!bg-transparent",title:"解除封禁",onClick:async()=>{await (0,M.zf)(t.original.uuid),R.P.emit("refresh-data")},children:(0,a.jsx)(N.A,{className:"stroke-green-600"})})}}];var D=s(24232),U=s(86801),Z=s(28042),X=s(52815);function Y(){let[e,t]=(0,i.useState)([]),[s,d]=(0,i.useState)(0),[c,j]=(0,i.useState)(!1),[f,v]=(0,i.useState)("player-list"),[b,w]=(0,i.useState)(""),y=(0,i.useMemo)(()=>e.filter(e=>{let{isBanned:t}=e;return!t}),[e]),N=(0,i.useMemo)(()=>e.filter(e=>{let{isBanned:t}=e;return t}),[e]),C=async()=>{try{let e=await (0,m.qV)("/api/players"),s=e.players.sort((e,t)=>e.name.localeCompare(t.name));t(s),d(e.maxPlayerCount),j(e.whitelist)}catch(e){(0,m.Kf)(e,"无法获取玩家列表",[[400,"请求参数错误"],[401,"未登录"],[500,"服务器内部错误"]])}};return(0,i.useEffect)(()=>{C(),R.P.on("refresh-data",()=>C())},[]),(0,a.jsxs)(D.SubPage,{title:"玩家",subTitle:"player-list"===f?"玩家列表":"封禁列表",icon:(0,a.jsx)(r.A,{}),className:"flex flex-col gap-3",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"点击玩家名以进行更多操作。"}),(0,a.jsxs)(u,{defaultValue:(0,X.mt)("state.players.tab"),onValueChange:e=>{v(e),(0,X.kz)("state.players.tab",e)},children:[(0,a.jsxs)("div",{className:"flex justify-between items-center max-lg:flex-col-reverse max-lg:items-start max-lg:gap-2",children:[(0,a.jsxs)(x,{className:"[&>*]:cursor-pointer",children:[(0,a.jsx)(h,{value:"player-list",children:"玩家列表 (".concat(e.filter(e=>{let{isOnline:t}=e;return t}).length," / ").concat(s,")")}),(0,a.jsx)(h,{value:"banned-list",children:"封禁列表 (".concat(e.filter(e=>{let{isBanned:t}=e;return t}).length,")")})]}),(0,a.jsxs)("div",{className:"flex gap-2 max-sm:flex-col max-sm:items-start",children:[(0,a.jsxs)(Z.MG,{children:[(0,a.jsx)(Z.Sq,{children:(0,a.jsx)(n.A,{})}),(0,a.jsx)(Z.iV,{value:b,placeholder:"搜索玩家...",onChange:e=>w(e.target.value)})]}),c?(0,a.jsx)(U.T,{onDisableWhitelist:()=>j(!1),asChild:!0,children:(0,a.jsxs)(k.$,{variant:"outline",className:"cursor-pointer",children:[(0,a.jsx)(l.A,{}),"编辑白名单"]})}):(0,a.jsxs)(k.$,{variant:"outline",className:"cursor-pointer",onClick:async()=>{await (0,M.lE)(!0),await C(),j(!0)},children:[(0,a.jsx)(o.A,{}),"启用白名单"]})]})]}),(0,a.jsx)(g,{value:"player-list",children:(0,a.jsx)(p.b,{columns:T,data:[...y.filter(e=>{let{name:t,isOnline:s}=e;return t.toLowerCase().includes(b.toLowerCase())&&s}),...y.filter(e=>{let{name:t,isOnline:s,isOp:a}=e;return t.toLowerCase().includes(b.toLowerCase())&&!s&&a}),...y.filter(e=>{let{name:t,isOnline:s,isOp:a}=e;return t.toLowerCase().includes(b.toLowerCase())&&!s&&!a})],pagination:!0,fallbackMessage:"暂无玩家"})}),(0,a.jsx)(g,{value:"banned-list",children:(0,a.jsx)(p.b,{columns:J,data:N.filter(e=>{let{name:t}=e;return t.toLowerCase().includes(b.toLowerCase())}),pagination:!0,fallbackMessage:"暂无玩家"})})]})]})}},53571:(e,t,s)=>{Promise.resolve().then(s.bind(s,30347))},95784:(e,t,s)=>{"use strict";s.d(t,{bq:()=>u,eb:()=>h,gC:()=>x,l6:()=>d,yv:()=>c});var a=s(95155);s(12115);var i=s(14582),r=s(66474),n=s(5196),l=s(47863),o=s(53999);function d(e){let{...t}=e;return(0,a.jsx)(i.bL,{"data-slot":"select",...t})}function c(e){let{...t}=e;return(0,a.jsx)(i.WT,{"data-slot":"select-value",...t})}function u(e){let{className:t,size:s="default",children:n,...l}=e;return(0,a.jsxs)(i.l9,{"data-slot":"select-trigger","data-size":s,className:(0,o.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...l,children:[n,(0,a.jsx)(i.In,{asChild:!0,children:(0,a.jsx)(r.A,{className:"size-4 opacity-50"})})]})}function x(e){let{className:t,children:s,position:r="popper",...n}=e;return(0,a.jsx)(i.ZL,{children:(0,a.jsxs)(i.UC,{"data-slot":"select-content",className:(0,o.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[(0,a.jsx)(g,{}),(0,a.jsx)(i.LM,{className:(0,o.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),(0,a.jsx)(p,{})]})})}function h(e){let{className:t,children:s,...r}=e;return(0,a.jsxs)(i.q7,{"data-slot":"select-item",className:(0,o.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(i.VF,{children:(0,a.jsx)(n.A,{className:"size-4"})})}),(0,a.jsx)(i.p4,{children:s})]})}function g(e){let{className:t,...s}=e;return(0,a.jsx)(i.PP,{"data-slot":"select-scroll-up-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(l.A,{className:"size-4"})})}function p(e){let{className:t,...s}=e;return(0,a.jsx)(i.wn,{"data-slot":"select-scroll-down-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(r.A,{className:"size-4"})})}}},e=>{e.O(0,[1210,3591,9641,5702,5452,6671,3207,3464,371,5299,9733,3088,193,5601,4419,8441,5964,7358],()=>e(e.s=53571)),_N_E=e.O()}]);