(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{13052:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=(0,a(19946).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},16559:(e,t,a)=>{"use strict";a.d(t,{$v:()=>g,EO:()=>u,Lt:()=>o,Rx:()=>f,Zr:()=>p,ck:()=>h,r7:()=>m,tv:()=>i,wd:()=>x});var l=a(95155);a(12115);var s=a(17649),n=a(53999),r=a(97168);function o(e){let{...t}=e;return(0,l.jsx)(s.bL,{"data-slot":"alert-dialog",...t})}function i(e){let{...t}=e;return(0,l.jsx)(s.l9,{"data-slot":"alert-dialog-trigger",...t})}function c(e){let{...t}=e;return(0,l.jsx)(s.ZL,{"data-slot":"alert-dialog-portal",...t})}function d(e){let{className:t,...a}=e;return(0,l.jsx)(s.hJ,{"data-slot":"alert-dialog-overlay",className:(0,n.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function u(e){let{className:t,...a}=e;return(0,l.jsxs)(c,{children:[(0,l.jsx)(d,{}),(0,l.jsx)(s.UC,{"data-slot":"alert-dialog-content",className:(0,n.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...a})]})}function x(e){let{className:t,...a}=e;return(0,l.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,n.cn)("flex flex-col gap-2 text-center sm:text-left",t),...a})}function h(e){let{className:t,...a}=e;return(0,l.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,n.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...a})}function m(e){let{className:t,...a}=e;return(0,l.jsx)(s.hE,{"data-slot":"alert-dialog-title",className:(0,n.cn)("text-lg font-semibold",t),...a})}function g(e){let{className:t,...a}=e;return(0,l.jsx)(s.VY,{"data-slot":"alert-dialog-description",className:(0,n.cn)("text-muted-foreground text-sm",t),...a})}function f(e){let{className:t,...a}=e;return(0,l.jsx)(s.rc,{className:(0,n.cn)((0,r.r)(),t),...a})}function p(e){let{className:t,...a}=e;return(0,l.jsx)(s.ZD,{className:(0,n.cn)((0,r.r)({variant:"outline"}),t),...a})}},19832:(e,t,a)=>{"use strict";a.d(t,{P:()=>s});var l=a(19087);let s=new(a.n(l)())},22726:(e,t,a)=>{"use strict";a.d(t,{b:()=>j});var l=a(95155),s=a(12115),n=a(52278),r=a(42355),o=a(13052),i=a(12767),c=a(36268),d=a(11032),u=a(88524),x=a(53999),h=a(97168),m=a(74466);a(76037);let g=(0,m.F)("flex w-fit items-stretch [&>*]:focus-visible:z-10 [&>*]:focus-visible:relative [&>[data-slot=select-trigger]:not([class*='w-'])]:w-fit [&>input]:flex-1 has-[select[aria-hidden=true]:last-child]:[&>[data-slot=select-trigger]:last-of-type]:rounded-r-md has-[>[data-slot=button-group]]:gap-2",{variants:{orientation:{horizontal:"[&>*:not(:first-child)]:rounded-l-none [&>*:not(:first-child)]:border-l-0 [&>*:not(:last-child)]:rounded-r-none",vertical:"flex-col [&>*:not(:first-child)]:rounded-t-none [&>*:not(:first-child)]:border-t-0 [&>*:not(:last-child)]:rounded-b-none"}},defaultVariants:{orientation:"horizontal"}});function f(e){let{className:t,orientation:a,...s}=e;return(0,l.jsx)("div",{role:"group","data-slot":"button-group","data-orientation":a,className:(0,x.cn)(g({orientation:a}),t),...s})}var p=a(80154);function j(e){var t;let{columns:a,data:m,pagination:g=!1,fallbackMessage:j=(0,p.$)("table.empty"),className:v}=e,[b,w]=(0,s.useState)({pageIndex:0,pageSize:10}),y=(0,c.N4)({columns:a,data:m,getCoreRowModel:(0,d.HT)(),getPaginationRowModel:g?(0,d.kW)():void 0,onPaginationChange:w,state:{pagination:b}});return(0,l.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,l.jsx)("div",{className:(0,x.cn)(v,"border rounded-md"),children:(0,l.jsxs)(u.XI,{children:[(0,l.jsx)(u.A0,{children:y.getHeaderGroups().map(e=>(0,l.jsx)(u.Hj,{children:e.headers.map(e=>(0,l.jsx)(u.nd,{children:e.isPlaceholder?null:(0,c.Kv)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,l.jsx)(u.BF,{children:(null==(t=y.getRowModel().rows)?void 0:t.length)?y.getRowModel().rows.map(e=>(0,l.jsx)(u.Hj,{children:e.getVisibleCells().map(e=>(0,l.jsx)(u.nA,{children:(0,c.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,l.jsx)(u.Hj,{className:"hover:bg-transparent",children:(0,l.jsx)(u.nA,{colSpan:a.length,className:"h-24 text-center",children:j})})})]})}),g&&(0,l.jsxs)("div",{className:"flex gap-3 items-center max-md:flex-col",children:[(0,l.jsxs)("div",{className:"flex gap-3 items-center [&_button]:cursor-pointer",children:[(0,l.jsx)(h.$,{variant:"outline",size:"icon",title:(0,p.$)("table.to-first"),onClick:()=>y.firstPage(),disabled:!y.getCanPreviousPage(),children:(0,l.jsx)(n.A,{})}),(0,l.jsxs)(f,{children:[(0,l.jsxs)(h.$,{variant:"outline",onClick:()=>y.previousPage(),disabled:!y.getCanPreviousPage(),children:[(0,l.jsx)(r.A,{}),(0,p.$)("table.previous")]}),(0,l.jsxs)(h.$,{variant:"outline",onClick:()=>y.nextPage(),disabled:!y.getCanNextPage(),children:[(0,p.$)("table.next"),(0,l.jsx)(o.A,{})]})]}),(0,l.jsx)(h.$,{variant:"outline",size:"icon",title:(0,p.$)("table.to-last"),onClick:()=>y.lastPage(),disabled:!y.getCanNextPage(),children:(0,l.jsx)(i.A,{})})]}),(0,l.jsx)("span",{className:"text-muted-foreground text-sm",children:(0,p.$)("table.status",b.pageIndex+1,y.getPageCount())})]})]})}},23323:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=(0,a(19946).A)("scroll-text",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]])},24232:(e,t,a)=>{"use strict";a.d(t,{C:()=>m});var l=a(95155),s=a(12115),n=a(13052),r=a(53999);function o(e){let{...t}=e;return(0,l.jsx)("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...t})}function i(e){let{className:t,...a}=e;return(0,l.jsx)("ol",{"data-slot":"breadcrumb-list",className:(0,r.cn)("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",t),...a})}function c(e){let{className:t,...a}=e;return(0,l.jsx)("li",{"data-slot":"breadcrumb-item",className:(0,r.cn)("inline-flex items-center gap-1.5",t),...a})}function d(e){let{className:t,...a}=e;return(0,l.jsx)("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:(0,r.cn)("text-foreground font-normal",t),...a})}function u(e){let{children:t,className:a,...s}=e;return(0,l.jsx)("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:(0,r.cn)("[&>svg]:size-3.5",a),...s,children:null!=t?t:(0,l.jsx)(n.A,{})})}var x=a(76037),h=a(20193);function m(e){let{children:t,title:a,subTitle:n,icon:m,outerClassName:g,className:f,...p}=e;return(0,s.useEffect)(()=>{document.title="OPanel - ".concat(null!=n?n:a)},[a,n]),(0,l.jsxs)("div",{className:(0,r.cn)("group px-16 max-md:px-12 max-sm:px-8 flex-1 flex flex-col gap-6 max-md:gap-2",g),children:[(0,l.jsxs)("div",{className:"pt-10 pb-5 flex flex-col gap-8",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)(h.x2,{className:"cursor-pointer"}),(0,l.jsx)(x.w,{orientation:"vertical"}),(0,l.jsx)(o,{children:(0,l.jsxs)(i,{children:[(0,l.jsx)(c,{children:"OPanel"}),(0,l.jsx)(u,{}),n&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c,{children:a}),(0,l.jsx)(u,{})]}),(0,l.jsx)(c,{children:(0,l.jsx)(d,{children:null!=n?n:a})})]})})]}),(0,l.jsxs)("div",{className:"flex items-center gap-5",children:[m,(0,l.jsx)("h1",{className:"text-3xl font-bold",children:null!=n?n:a})]})]}),(0,l.jsx)("div",{className:(0,r.cn)(f,"pb-14"),...p,children:t})]})}},31886:(e,t,a)=>{"use strict";a.d(t,{Kf:()=>i,QM:()=>x,nl:()=>u,ow:()=>d,qV:()=>c,y0:()=>r,yq:()=>o});var l=a(23464),s=a(16453),n=a(56671);let r="",o=globalThis.window?"".concat("http:"===window.location.protocol?"ws":"wss","://").concat(window.location.host):"ws://localhost:3000";function i(e,t,a){if(401===e.status&&"/login"!==window.location.pathname){(0,s.deleteCookie)("token"),window.location.href="/login";return}for(let[l,s]of a)if(e.status===l)return void n.oR.error(t,{description:s});n.oR.error(t,{description:e.message})}async function c(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return(await l.A.request({method:"get",url:r+e,withCredentials:t})).data}async function d(e,t){let a=!(arguments.length>2)||void 0===arguments[2]||arguments[2],s=t?JSON.stringify(t):"";return(await l.A.request({method:"post",maxBodyLength:1/0,url:r+e,withCredentials:a,headers:{"Content-Type":"text/plain"},data:s})).data}async function u(e,t){let a=!(arguments.length>2)||void 0===arguments[2]||arguments[2],s=t?JSON.stringify(t):"";return(await l.A.request({method:"delete",maxBodyLength:1/0,url:r+e,withCredentials:a,headers:{"Content-Type":"text/plain"},data:s})).data}async function x(e,t,a){let s=!(arguments.length>3)||void 0===arguments[3]||arguments[3],n=new FormData;return n.append("file",t),(await l.A.request({method:"post",url:r+e,withCredentials:s,headers:{"Content-Type":"multipart/form-data"},data:n,onUploadProgress:e=>{var t;return a&&a(null!=(t=e.progress)?t:0)}})).data}},32007:(e,t,a)=>{"use strict";a.d(t,{S:()=>o,f:()=>r});var l=a(56671),s=a(31886),n=a(80154);async function r(e){window.open("".concat(s.y0,"/api/logs/").concat(e,"/download"),"_blank")}async function o(e){try{await (0,s.nl)("/api/logs/".concat(e)),l.oR.success((0,n.$)("logs.action.delete.success"))}catch(e){(0,s.Kf)(e,(0,n.$)("logs.action.delete.error"),[[400,(0,n.$)("common.error.400")],[401,(0,n.$)("common.error.401")],[403,(0,n.$)("logs.action.delete.error.403")],[404,(0,n.$)("logs.action.delete.error.404")]])}}},49982:(e,t,a)=>{Promise.resolve().then(a.bind(a,90854))},62525:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=(0,a(19946).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},88524:(e,t,a)=>{"use strict";a.d(t,{A0:()=>r,BF:()=>o,Hj:()=>i,XI:()=>n,nA:()=>d,nd:()=>c});var l=a(95155);a(12115);var s=a(53999);function n(e){let{className:t,...a}=e;return(0,l.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,l.jsx)("table",{"data-slot":"table",className:(0,s.cn)("w-full caption-bottom text-sm",t),...a})})}function r(e){let{className:t,...a}=e;return(0,l.jsx)("thead",{"data-slot":"table-header",className:(0,s.cn)("[&_tr]:border-b",t),...a})}function o(e){let{className:t,...a}=e;return(0,l.jsx)("tbody",{"data-slot":"table-body",className:(0,s.cn)("[&_tr:last-child]:border-0",t),...a})}function i(e){let{className:t,...a}=e;return(0,l.jsx)("tr",{"data-slot":"table-row",className:(0,s.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...a})}function c(e){let{className:t,...a}=e;return(0,l.jsx)("th",{"data-slot":"table-head",className:(0,s.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})}function d(e){let{className:t,...a}=e;return(0,l.jsx)("td",{"data-slot":"table-cell",className:(0,s.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})}},90854:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var l=a(95155),s=a(12115),n=a(56671),r=a(23323),o=a(62525),i=a(22726),c=a(31886),d=a(97168),u=a(99211),x=a(6874),h=a.n(x),m=a(91788),g=a(32007),f=a(19832),p=a(80154);let j=[{accessorKey:"name",header:()=>(0,l.jsx)("span",{className:"pl-3",children:(0,p.$)("logs.columns.name")}),cell:e=>{var t;let{row:a}=e,s=null!=(t=a.getValue("name"))?t:"";return(0,l.jsx)(d.$,{variant:"link",size:"sm",className:"h-4 font-semibold",asChild:!0,children:(0,l.jsx)(h(),{href:"/panel/logs/view?log=".concat(s),children:s})})}},{accessorKey:"type",header:(0,p.$)("logs.columns.type"),cell:e=>{let{row:t}=e;return(0,l.jsx)("span",{className:"text-muted-foreground",children:t.getValue("type")})}},{header:" ",cell:e=>{var t;let{row:a}=e,s=null!=(t=a.getValue("name"))?t:"";return(0,l.jsxs)("div",{className:"flex justify-end [&>*]:h-4 [&>*]:cursor-pointer [&>*]:hover:!bg-transparent",children:[(0,l.jsx)(d.$,{variant:"ghost",size:"icon",title:(0,p.$)("logs.action.download"),onClick:()=>(0,g.f)(s),children:(0,l.jsx)(m.A,{})}),(0,l.jsx)(d.$,{variant:"ghost",size:"icon",title:(0,p.$)("logs.action.delete"),disabled:s.endsWith(".log"),onClick:async()=>{await (0,g.S)(s),f.P.emit("refresh-data")},children:(0,l.jsx)(o.A,{})})]})}}];var v=a(24232);function b(){let[e,t]=(0,s.useState)([]),a=async()=>{try{let e=await (0,c.qV)("/api/logs");t(e.logs)}catch(e){(0,c.Kf)(e,(0,p.$)("logs.fetch.error"),[[400,(0,p.$)("common.error.400")],[401,(0,p.$)("common.error.401")],[500,(0,p.$)("common.error.500")]])}},x=async()=>{try{await (0,c.nl)("/api/logs"),n.oR.success((0,p.$)("logs.clear.success")),a()}catch(e){(0,c.Kf)(e,(0,p.$)("logs.clear.error"),[[401,(0,p.$)("common.error.401")],[500,(0,p.$)("common.error.500")]])}};return(0,s.useEffect)(()=>{a(),f.P.on("refresh-data",()=>a())},[]),(0,l.jsxs)(v.C,{title:(0,p.$)("logs.title"),icon:(0,l.jsx)(r.A,{}),className:"flex-1 flex flex-col gap-5",children:[(0,l.jsx)("div",{className:"flex justify-end",children:(0,l.jsx)(u.F,{title:(0,p.$)("logs.clear.alert.title"),description:(0,p.$)("logs.clear.alert.description"),onAction:()=>x(),asChild:!0,children:(0,l.jsxs)(d.$,{variant:"destructive",className:"cursor-pointer",children:[(0,l.jsx)(o.A,{}),(0,p.$)("logs.clear")]})})}),(0,l.jsx)(i.b,{columns:j,data:(()=>{let t=e.map(e=>({name:e,type:".gz"===e.substring(e.lastIndexOf("."))?"gzip":"log"}));return[...t.filter(e=>"log"===e.type),...t.filter(e=>"gzip"===e.type)]})(),pagination:!0,fallbackMessage:(0,p.$)("logs.empty"),className:"overflow-y-auto"})]})}},91788:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=(0,a(19946).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},99211:(e,t,a)=>{"use strict";a.d(t,{F:()=>r});var l=a(95155),s=a(16559),n=a(80154);function r(e){let{title:t,description:a,cancellable:r=!0,onAction:o,asChild:i,children:c}=e;return(0,l.jsxs)(s.Lt,{children:[(0,l.jsx)(s.tv,{asChild:i,children:c}),(0,l.jsxs)(s.EO,{children:[(0,l.jsxs)(s.wd,{children:[(0,l.jsx)(s.r7,{className:"wrap-anywhere",children:t}),a&&(0,l.jsx)(s.$v,{children:a})]}),(0,l.jsxs)(s.ck,{children:[r&&(0,l.jsx)(s.Zr,{children:(0,n.$)("dialog.cancel")}),(0,l.jsx)(s.Rx,{onClick:()=>{o&&o()},children:(0,n.$)("dialog.confirm")})]})]})]})}}},e=>{e.O(0,[9690,4390,3498,9641,5702,5100,5452,6671,3207,3464,6874,9733,154,193,8441,5964,7358],()=>e(e.s=49982)),_N_E=e.O()}]);